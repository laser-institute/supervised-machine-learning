<!DOCTYPE html>
<html lang="en"><head>
<script src="sml-3-conceptual-overview_files/libs/clipboard/clipboard.min.js"></script>
<script src="sml-3-conceptual-overview_files/libs/quarto-html/tabby.min.js"></script>
<script src="sml-3-conceptual-overview_files/libs/quarto-html/popper.min.js"></script>
<script src="sml-3-conceptual-overview_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="sml-3-conceptual-overview_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="sml-3-conceptual-overview_files/libs/quarto-html/light-border.css" rel="stylesheet">
<link href="sml-3-conceptual-overview_files/libs/quarto-html/quarto-syntax-highlighting-549806ee2085284f45b00abea8c6df48.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.6.40">

  <title>How Good is Our Model, Really?</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="sml-3-conceptual-overview_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="sml-3-conceptual-overview_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; font-weight: bold; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="sml-3-conceptual-overview_files/libs/revealjs/dist/theme/quarto-d8833ab8e240571a9cd8beb07a4bd96e.css">
  <link href="sml-3-conceptual-overview_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="sml-3-conceptual-overview_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="sml-3-conceptual-overview_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="sml-3-conceptual-overview_files/libs/revealjs/plugin/reveal-chalkboard/font-awesome/css/all.css" rel="stylesheet">
  <link href="sml-3-conceptual-overview_files/libs/revealjs/plugin/reveal-chalkboard/style.css" rel="stylesheet">
  <link href="sml-3-conceptual-overview_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">How Good is Our Model, Really?</h1>
  <p class="subtitle">Conceptual Overview</p>

<div class="quarto-title-authors">
</div>

</section>
<section>
<section id="purpose-and-agenda" class="title-slide slide level1 center">
<h1>Purpose and Agenda</h1>
<p>How do we interpret a machine learning model? What else can we say, besides how accurate a model this? This module is intended to help you to answer these questions by examining output from a classification and a regression model. We use a large data set, the Open University Learning Analytics Dataset (OULAD).</p>
<aside class="notes">
<p>The key point to make here is that we will go well beyond the relatiely simplistic “Accuracy” metric, which is used to simply represent the proportion of the predictions that are correct. While useful, there are many other metrics that can give us a better sense of <em>for which cases</em> our SML model is making good predictions (e.g., just the “true” cases in a binary classification model, but not the “false” cases – or vice versa). You can make the point that this is especially important in our field, as different incorrect predictions may have different stakes (i.e., incorrectly classifying a student as needing additional support may not be directly harmful, but incorrectly predicting that a in fact student cheated may have substantial consequences). Metrics and interpreting them given the specifics of a particular analysis and context can help to avoid these harms, and to build the best performing models possible.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="what-well-do-in-this-presentation" class="slide level2">
<h2>What we’ll do in this presentation</h2>
<ul>
<li>Discussion 1</li>
<li>Introducing the OULAD</li>
<li>Key Concept #1: Accuracy</li>
<li>Key Concept #2: Feature Engineering (part A)</li>
<li>Key Concept #3: Metrics and their real-world interpretation</li>
<li>Discussion 2</li>
<li>Introduction to the other parts of this module</li>
</ul>
<aside class="notes">
<p>Make the point that we will engage <em>much</em> more deeply about feature engineering in the next module; we do this here to start the conversation and to open up some space in the next module for the complexity of cross-validation and a new type of model that we will use — a random forest.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="two-notes" class="slide level2">
<h2>Two notes</h2>
<ol type="1">
<li>Sometimes, we do things that are a little bit harder in the short-term for pedagogical reasons (evaluating metrics with training data, for instance)—some of these frictions will go away when we progress to our “full” model (in the next module)</li>
<li>Whereas the last module was focused on a big concept (the importance of splitting data into training and testing sets), this module is focused on a bunch of concepts (different fit metrics) that are best understood when they are used in a variety of specific instances (when each metric is needed, used, and interpreted)</li>
</ol>
</section></section>
<section id="discussion-1" class="title-slide slide level1 center">
<h1>Discussion 1</h1>
<div class="panel-tabset">
<ul id="tabset-1" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-1-1">Background</a></li><li><a href="#tabset-1-2">Getting Started</a></li><li><a href="#tabset-1-3">Digging Deeper</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1">
<ul>
<li>We are likely familiar with <em>accuracy</em> and maybe another measure, <em>Cohen’s Kappa</em></li>
<li>But, you may have heard of other means of determining how good a model is at making predictions: confusion matrices, specificity, sensitivity, recall, AUC-ROC, and others</li>
<li>Broadly, these help us to understand <em>for which cases and types of cases a model is predictively better than others</em> in a finer-grained way than accuracy</li>
</ul>
</div>
<div id="tabset-1-2">
<ul>
<li>Think broadly and not formally (yet): What makes a prediction model a good one?</li>
</ul>
</div>
<div id="tabset-1-3">
<ul>
<li>After having worked through the first and second modules, have your thoughts on what data you might use for a machine learning study evolved? If so, in what ways? If not, please elaborate on your initial thoughts and plans.</li>
</ul>
<aside class="notes">
<p>This can connect back to the purpose at the beginning — try to elicit ideas that go beyond simple “Accuracy” to other, broader ideas about what makes a model good. These ideas can even extend beyond metrics (e.g., a learner may mention that the data is collected ethically) - these can be rich conversations to have here, but try to focus the conversation back on metrics as a nexus and tool for thinking about what makes an SML model a good one.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</div>
</div>
</div>
</section>

<section>
<section id="introducing-the-oulad" class="title-slide slide level1 center">
<h1>Introducing the OULAD</h1>

</section>
<section id="oulad" class="slide level2">
<h2>OULAD</h2>
<ul>
<li>The <em>Open University Learning Analytics Dataset (OULAD)</em> is a publicly available dataset from the Open University in the UK</li>
<li>It contains data on students enrolled in online courses, including their demographics, course interactions, and final grades</li>
<li>Many students pass these courses, but not all do</li>
<li>We have data on students’ initial characteristics and their interactions in the course</li>
<li>If we could develop a good prediction model, we could provide additional supports to students–and maybe move the needle on some students succeeding who might not otherwise</li>
</ul>
</section>
<section id="oulad-files" class="slide level2">
<h2>OULAD files</h2>
<p>We’ll be focusing on three files:</p>
<ul>
<li>studentInfo, courses, and studentRegistration</li>
</ul>
<p>These are joined together (see <code>oulad.R</code>) for this module.</p>
</section>
<section id="oulad-data" class="slide level2">
<h2>OULAD data</h2>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 15
  code_module code_presentation id_student gender region       highest_education
  &lt;chr&gt;       &lt;chr&gt;                  &lt;dbl&gt; &lt;chr&gt;  &lt;chr&gt;        &lt;chr&gt;            
1 AAA         2013J                  11391 M      East Anglia… HE Qualification 
2 AAA         2013J                  28400 F      Scotland     HE Qualification 
3 AAA         2013J                  30268 F      North Weste… A Level or Equiv…
# ℹ 9 more variables: imd_band &lt;chr&gt;, age_band &lt;chr&gt;,
#   num_of_prev_attempts &lt;dbl&gt;, studied_credits &lt;dbl&gt;, disability &lt;chr&gt;,
#   final_result &lt;chr&gt;, module_presentation_length &lt;dbl&gt;,
#   date_registration &lt;dbl&gt;, date_unregistration &lt;dbl&gt;</code></pre>
</div>
</div>
</section></section>
<section>
<section id="key-concept-1" class="title-slide slide level1 center">
<h1>Key Concept #1</h1>

</section>
<section id="accuracy" class="slide level2">
<h2>Accuracy</h2>
<p>Let’s start with accuracy and a simple confusion matrix; what is the <strong>Accuracy</strong>?</p>
<div class="cell">
<div class="cell-output-display">
<table class="caption-top">
<thead>
<tr class="header">
<th style="text-align: right;">Outcome</th>
<th style="text-align: right;">Prediction</th>
<th style="text-align: left;">Correct?</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">Yes</td>
</tr>
<tr class="even">
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">Yes</td>
</tr>
<tr class="odd">
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">No</td>
</tr>
<tr class="even">
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">No</td>
</tr>
<tr class="odd">
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">Yes</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="accuracy-calculation" class="slide level2">
<h2>Accuracy Calculation</h2>
<p>Use the <code>tabyl()</code> function (from {janitor} to calculate the accuracy in the code chunk below.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href=""></a>data_for_conf_mat <span class="sc">%&gt;%</span> </span>
<span id="cb2-2"><a href=""></a>    <span class="fu">mutate</span>(<span class="at">correct =</span> Outcome <span class="sc">==</span> Prediction) <span class="sc">%&gt;%</span> </span>
<span id="cb2-3"><a href=""></a>    <span class="fu">tabyl</span>(correct)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> correct n percent
   FALSE 2     0.4
    TRUE 3     0.6</code></pre>
</div>
</div>
</section>
<section id="the-limitation-of-accuracy" class="slide level2">
<h2>The limitation of accuracy</h2>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<table class="caption-top">
<thead>
<tr class="header">
<th style="text-align: left;">Model</th>
<th style="text-align: right;">Accuracy</th>
<th style="text-align: left;">Class_Distribution</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Model A</td>
<td style="text-align: right;">0.8</td>
<td style="text-align: left;">85% Good, 15% Poor</td>
</tr>
<tr class="even">
<td style="text-align: left;">Model B</td>
<td style="text-align: right;">0.7</td>
<td style="text-align: left;">15% Good, 85% Poor</td>
</tr>
</tbody>
</table>
</div>
</div>
<p><strong>Both models have 80% accuracy, but are they equally good?</strong></p>
<aside class="notes">
<p>This is central to the core purpose of this module - to get learners realizing the downsides of accuracy, given what accuracy can obfuscate.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="beyond-accuracy-the-need-for-nuance" class="slide level2">
<h2>Beyond accuracy: The need for nuance</h2>
<ul>
<li><strong>Accuracy is insufficient when:</strong>
<ul>
<li>Class distributions are imbalanced</li>
<li>Different types of errors have different consequences</li>
<li>You need to tune your model for specific objectives</li>
</ul></li>
<li><strong>Example from OULAD data:</strong>
<ul>
<li>What if only 20% of students pass a class?</li>
<li>A model that always predicts “not pass” would have 80% accuracy, but is useless for identifying successful students</li>
</ul></li>
<li><strong>We need metrics that tell us:</strong>
<ul>
<li>How well we identify positive cases (pass) and negative cases (fail)</li>
<li>How reliable our positive and negative predictions are</li>
</ul></li>
</ul>
</section>
<section id="confusion-matrix" class="slide level2">
<h2>Confusion Matrix</h2>
<p>Now, let’s create a confusion matrix based on this data - this lets us dive deeper into how good our models’ predictions are:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4" data-code-line-numbers="|1|2-3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href=""></a><span class="fu">library</span>(tidymodels)</span>
<span id="cb4-2"><a href=""></a></span>
<span id="cb4-3"><a href=""></a>data_for_conf_mat <span class="sc">%&gt;%</span> </span>
<span id="cb4-4"><a href=""></a>    <span class="fu">conf_mat</span>(Outcome, Prediction)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>          Truth
Prediction 0 1
         0 1 1
         1 1 2</code></pre>
</div>
</div>
</section>
<section id="confusion-matrix-terms" class="slide level2">
<h2>Confusion Matrix Terms</h2>
<p><strong>Accuracy</strong>: Prop. of the sample that is true positive or true negative</p>
<p><strong>True positive (TP)</strong>: Prop. of the sample that is affected by a condition and correctly tested positive</p>
<p><strong>True negative (TN)</strong>: Prop. of the sample that is not affected by a condition and correctly tested negative</p>
<p><strong>False positive (FP)</strong>: Prop. of the sample that is not affected by a condition and incorrectly tested positive</p>
<p><strong>False negative (FN)</strong>: Prop. of the sample that is affected by a condition and incorrectly tested positive.</p>
</section>
<section id="confusion-matrix-visual" class="slide level2">
<h2>Confusion Matrix Visual</h2>

<img data-src="img/conf-mat-descriptor.png" style="width:80.0%" class="r-stretch"><aside class="notes">
<p>This and the next slide can take awhile to work through — it may be helpful to do some math on a whiteboard, and to ask lots of questions of learners to work through the math, which is simple mathematically but somewhat challenging conceptually! Take time here — this can be really valuable as a time and space to deeply understand what is under the hood of these metrics.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="metrics" class="slide level2">
<h2>Metrics</h2>

<img data-src="img/interpretation-of-metrics.png" style="width:80.0%" class="r-stretch"><aside class="notes">
<p>Please note that Precision goes by the name Positive Predictive Value, whereas Negative Predictive Value does not have another commonly used name.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="auc-roc" class="slide level2">
<h2>AUC-ROC</h2>
<ul>
<li><em>Area Under the Curve - Receiver Operator Characteristic</em> (AUC-ROC)</li>
<li>Informs us as to how the True Positive rate changes given a different classification threshhold</li>
<li>Classification threshhold: the probability above which a model makes a positive prediction</li>
<li>Higher is better</li>
</ul>
</section></section>
<section>
<section id="key-concept-2" class="title-slide slide level1 center">
<h1>Key Concept # 2</h1>

</section>
<section id="feature-engineering-part-a" class="slide level2">
<h2>Feature Engineering (Part A)</h2>
</section>
<section id="why" class="slide level2">
<h2>Why?</h2>
<p>Let’s consider a very simple data set, <code>d</code>, one with <em>time_point</em> data, <code>var_a</code>, for a single student. <em>How do we add this to our model?</em> Focus on the time element; how could you account for this?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href=""></a>d <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">student_id =</span> <span class="st">"janyia"</span>, <span class="at">time_point =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>, <span class="at">var_a =</span> <span class="fu">c</span>(<span class="fl">0.01</span>, <span class="fl">0.32</span>, <span class="fl">0.32</span>, <span class="fl">0.34</span>, <span class="fl">0.04</span>, <span class="fl">0.54</span>, <span class="fl">0.56</span>, <span class="fl">0.75</span>, <span class="fl">0.63</span>, <span class="fl">0.78</span>))</span>
<span id="cb6-2"><a href=""></a>d <span class="sc">%&gt;%</span> <span class="fu">head</span>(<span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 3
  student_id time_point var_a
  &lt;chr&gt;           &lt;int&gt; &lt;dbl&gt;
1 janyia              1  0.01
2 janyia              2  0.32
3 janyia              3  0.32</code></pre>
</div>
</div>
</section>
<section id="why-again" class="slide level2">
<h2>Why (again)?</h2>
<p>How about a different variable, now focusing on the variable, <code>var_b</code>. How could we add this to a model?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href=""></a>d <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">student_id =</span> <span class="st">"janyia"</span>, <span class="at">time_point =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>, <span class="at">var_b =</span> <span class="fu">c</span>(<span class="dv">12</span>, <span class="dv">10</span>, <span class="dv">35</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">54</span>, <span class="dv">56</span>, <span class="dv">75</span>, <span class="dv">63</span>, <span class="dv">78</span>))</span>
<span id="cb8-2"><a href=""></a>d <span class="sc">%&gt;%</span> <span class="fu">head</span>(<span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 3
  student_id time_point var_b
  &lt;chr&gt;           &lt;int&gt; &lt;dbl&gt;
1 janyia              1    12
2 janyia              2    10
3 janyia              3    35</code></pre>
</div>
</div>
<aside class="notes">
<p>You can emphasize here that the interactions data is emblematic of much learning analyitcs data. You may want to open the data here to view it together, getting a sense of its size and contents in terms of rows (observations) and columns (variables).</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
<p><em>What are some other ideas?</em></p>
<aside class="notes">
<p>This can be a very fun discussion - lean into weird ideas! Writing these out on a whiteboard may help to facilitate sharing and discussion.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="other-options" class="slide level2">
<h2>Other Options</h2>
<p><strong>A few (other) options</strong></p>
<ul>
<li>Raw data points</li>
<li>Their mean</li>
<li>Their maximum</li>
<li>Their variability (standard deviation)</li>
<li>Their linear slope</li>
<li>Their quadratic slope</li>
</ul>
<aside class="notes">
<p>You can lean into other ideas - writing other ideas (e.g., do moon phases matter for certain RQs!) on the whiteboard.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
<p><strong>Each of these may derive from a single <em>variable</em> but may offer predictive utility as distinct <em>features</em></strong></p>
</section>
<section id="time-stamps" class="slide level2">
<h2>Time Stamps</h2>
<p>Here’s a time stamp:</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2025-07-13 19:47:47 EDT"</code></pre>
</div>
</div>
<p><strong>How could this variable be used as a predictor variable?</strong></p>
</section>
<section id="how" class="slide level2">
<h2>How?</h2>
<ul>
<li>We can do all of these things <strong>manually</strong></li>
<li>But, there are also helpful “<strong>{recipes}</strong>” functions to do this</li>
<li>Any, the {recipes} package makes it practical to carry out feature engineering steps for not only single variables, but groups of variables (or all of the variables)</li>
<li>Examples, all of which start with <code>step()</code>:
<ul>
<li><code>step_dummy()</code></li>
<li><code>step_normalize()</code></li>
<li><code>step_inpute()</code></li>
<li><code>step_date()</code></li>
<li><code>step_holiday()</code></li>
</ul></li>
</ul>
<aside class="notes">
<p>Emphasize this very brief introduction is to just begin to explore these topics (that we’ll explore in more depth in the next module), and to make our more sophisticated modeling possible</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section></section>
<section>
<section id="key-concept-3-metrics-and-their-real-world-interpretation" class="title-slide slide level1 center">
<h1>Key Concept #3: Metrics and their real-world interpretation</h1>

</section>
<section id="from-confusion-matrix-to-metrics" class="slide level2">
<h2>From confusion matrix to metrics</h2>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<table class="caption-top" style="width:100%;">
<colgroup>
<col style="width: 11%">
<col style="width: 28%">
<col style="width: 56%">
<col style="width: 3%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Metric</th>
<th style="text-align: left;">Formula</th>
<th style="text-align: left;">Question</th>
<th style="text-align: left;">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Accuracy</td>
<td style="text-align: left;">(TP + TN) / (TP + TN + FP + FN)</td>
<td style="text-align: left;">Overall, how often is the model correct?</td>
<td style="text-align: left;">80%</td>
</tr>
<tr class="even">
<td style="text-align: left;">Sensitivity/Recall</td>
<td style="text-align: left;">TP / (TP + FN)</td>
<td style="text-align: left;">When an institution actually has good graduation rates, how often does the model predict this?</td>
<td style="text-align: left;">80%</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Specificity</td>
<td style="text-align: left;">TN / (TN + FP)</td>
<td style="text-align: left;">When an institution actually has poor graduation rates, how often does the model predict this?</td>
<td style="text-align: left;">80%</td>
</tr>
<tr class="even">
<td style="text-align: left;">Precision/PPV</td>
<td style="text-align: left;">TP / (TP + FP)</td>
<td style="text-align: left;">When the model predicts good graduation rates, how often is it correct?</td>
<td style="text-align: left;">71%</td>
</tr>
<tr class="odd">
<td style="text-align: left;">NPV</td>
<td style="text-align: left;">TN / (TN + FN)</td>
<td style="text-align: left;">When the model predicts poor graduation rates, how often is it correct?</td>
<td style="text-align: left;">87%</td>
</tr>
<tr class="even">
<td style="text-align: left;">F1 Score</td>
<td style="text-align: left;">2 * (Precision * Recall) / (Precision + Recall)</td>
<td style="text-align: left;">What is the harmonic mean of precision and recall?</td>
<td style="text-align: left;">75%</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="sensitivity-vs.-specificity" class="slide level2">
<h2>Sensitivity vs.&nbsp;Specificity</h2>

<img data-src="sml-3-conceptual-overview_files/figure-revealjs/unnamed-chunk-12-1.png" class="quarto-figure quarto-figure-center r-stretch" width="960"></section>
<section id="precision-vs.-recall-sensitivity" class="slide level2">
<h2>Precision vs.&nbsp;Recall (Sensitivity)</h2>

<img data-src="sml-3-conceptual-overview_files/figure-revealjs/unnamed-chunk-13-1.png" class="quarto-figure quarto-figure-center r-stretch" width="960"></section>
<section id="f1-score-the-harmonic-mean" class="slide level2">
<h2>F1 Score: The Harmonic Mean</h2>
<p><strong>What is F1 Score?</strong> - F1 = 2 × (Precision × Recall) / (Precision + Recall) - Harmonic mean balances precision and recall - Ranges from 0 to 1 (higher is better) - Only high when <strong>both</strong> precision and recall are high</p>
<p><strong>Why harmonic mean instead of arithmetic mean?</strong> - Harmonic mean penalizes extreme values more severely - If either precision OR recall is very low, F1 will be low - Forces you to achieve balance between the two metrics</p>
<aside class="notes">
<p>Emphasize that F1 score is particularly useful when you can’t decide whether precision or recall is more important, or when you need both to be reasonably high. The harmonic mean ensures that a model can’t “cheat” by excelling at one metric while ignoring the other.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="when-to-use-f1-score-in-oulad-context" class="slide level2">
<h2>When to Use F1 Score in OULAD Context</h2>
<p><strong>F1 Score is ideal when:</strong> - You need <strong>balanced performance</strong> on precision and recall - Both false positives AND false negatives are costly - You’re comparing multiple models and want a single metric - Class imbalance exists but you need to perform well on both classes</p>
<p><strong>OULAD Example:</strong> - <strong>Scenario</strong>: Predicting students who need academic support - <strong>Goal</strong>: Find struggling students (high recall) while avoiding overwhelming support services (high precision) - <strong>F1 helps balance</strong>: Catching most at-risk students without flooding counselors with false alarms</p>
<p><strong>Limitation</strong>: F1 score doesn’t tell you <em>which</em> metric is driving performance - you still need to examine precision and recall individually for full understanding</p>
<aside class="notes">
<p>You can give a concrete example: “If your model has 90% precision but 40% recall, the F1 score will be about 55% - much lower than either individual metric. This forces you to improve the weaker metric rather than ignoring it.”</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="metrics-in-context-what-matters-for-oulad" class="slide level2">
<h2>Metrics in Context: What Matters for OULAD?</h2>
<p>When using the Open University Learning Analytics Dataset (OULAD) to build models that predict student outcomes at the module level (e.g., pass, fail, or withdrawal), the choice of which performance metrics to prioritize depends heavily on the specific goals of your analysis and the interventions or actions that will follow.</p>
</section>
<section id="high-precision-positive-predictive-value---ppv" class="slide level2">
<h2><strong>High Precision (Positive Predictive Value - PPV)</strong></h2>
<p>Is crucial if: * You aim to reliably identify students who are <strong>genuinely at high risk of failing or withdrawing</strong>, and interventions are costly or intensive. The focus is on minimizing false positives (wrongly labeling a student as at-risk when they are not). * You are allocating limited, high-impact support resources (e.g., one-on-one tutoring, intensive counseling) and want to ensure they reach students who truly need them. * The “cost” of a false positive is high (e.g., causing unnecessary anxiety for a student flagged as at-risk, or misdirecting scarce resources).</p>
</section>
<section id="high-recall-sensitivity" class="slide level2">
<h2><strong>High Recall (Sensitivity)</strong></h2>
<p>Is crucial if: * Your primary goal is to <strong>identify as many students at risk of failing or withdrawing as possible</strong>, even if it means some students who would have ultimately passed are also flagged. The focus is on minimizing false negatives (failing to identify a student who will struggle). * You are implementing broad, lower-cost interventions (e.g., sending encouraging emails, pointing to general study resources, offering optional workshops) where wider reach is beneficial. * The “cost” of a false negative is high (e.g., missing the opportunity to support a student who subsequently fails or withdraws).</p>
</section>
<section id="high-specificity" class="slide level2">
<h2><strong>High Specificity</strong></h2>
<p>Is crucial if: * You want to accurately identify students who are <strong>not at risk</strong> and are likely to pass or achieve distinction, perhaps to study their successful learning patterns or to avoid unnecessary interventions. * You are trying to minimize the number of students incorrectly flagged for intervention who would have succeeded on their own (reducing “false alarms” for students not needing support). * Resources for “non-intervention” or “positive pathway” studies are limited, and you need to be sure you are focusing on genuinely low-risk students. :::</p>
</section>
<section id="in-essence-for-oulad" class="slide level2">
<h2>In Essence for OULAD:</h2>
<ul>
<li>Prioritize <strong>Precision</strong> when targeted, resource-intensive interventions for at-risk students are planned.</li>
<li>Prioritize <strong>Recall</strong> when broad, less costly interventions are available, and the main aim is to catch every potentially struggling student.</li>
<li>Prioritize <strong>Specificity</strong> when the goal is to correctly identify students <em>not</em> needing intervention, or to study successful student cohorts with high confidence.</li>
</ul>
</section>
<section id="the-precision-recall-tradeoff" class="slide level2">
<h2>The precision-recall tradeoff</h2>

<img data-src="sml-3-conceptual-overview_files/figure-revealjs/unnamed-chunk-14-1.png" class="quarto-figure quarto-figure-center r-stretch" width="960"><aside class="notes">
<p>These next few slides get a little technical; may skip this, but it may be good to introduce this, too, and to return to later or engage in discussion based on students’ interests.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="the-roc-curve-and-auc" class="slide level2">
<h2>The ROC curve and AUC</h2>

<img data-src="sml-3-conceptual-overview_files/figure-revealjs/unnamed-chunk-15-1.png" class="quarto-figure quarto-figure-center r-stretch" width="960"></section>
<section id="choosing-the-right-classification-threshold" class="slide level2">
<h2>Choosing the right classification threshold</h2>
<p>The choice of threshold depends on your specific needs and priorities:</p>
<div>
<ul>
<li class="fragment"><p><strong>Default threshold (0.5)</strong>: Balanced, but often not optimal</p></li>
<li class="fragment"><p><strong>Lower threshold</strong>: Increases sensitivity, decreases specificity</p>
<ul>
<li class="fragment"><em>Pro</em>: Identifies more institutions with good graduation rates</li>
<li class="fragment"><em>Con</em>: More false positives (incorrectly labeled as good)</li>
</ul></li>
<li class="fragment"><p><strong>Higher threshold</strong>: Increases specificity, decreases sensitivity</p>
<ul>
<li class="fragment"><em>Pro</em>: More confident in positive predictions (high precision)</li>
<li class="fragment"><em>Con</em>: Misses more institutions with good graduation rates</li>
</ul></li>
<li class="fragment"><p><strong>Optimal threshold depends on:</strong></p>
<ul>
<li class="fragment">The relative costs of false positives vs.&nbsp;false negatives</li>
<li class="fragment">Available resources for intervention</li>
<li class="fragment">Stakeholder priorities</li>
</ul></li>
</ul>
</div>
</section></section>
<section id="discussion-2" class="title-slide slide level1 center">
<h1>Discussion 2</h1>
<div class="panel-tabset">
<ul id="tabset-2" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-2-1">Reflecting</a></li><li><a href="#tabset-2-2">Applying</a></li></ul>
<div class="tab-content">
<div id="tabset-2-1">
<ul>
<li>Which metrics for supervised machine learning models (in classification “mode”) are important to interpret? Why?</li>
</ul>
</div>
<div id="tabset-2-2">
<ul>
<li>Thinking broadly about your research interest, what would you need to consider before using a supervised machine learning model? Consider not only model metrics but also the data collection process and how the predictions may be used.</li>
</ul>
</div>
</div>
</div>
</section>

<section id="introduction-to-the-other-parts-of-this-module" class="title-slide slide level1 center">
<h1>Introduction to the other parts of this module</h1>
<div class="panel-tabset">
<ul id="tabset-3" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-3-1">Readings</a></li><li><a href="#tabset-3-2">Case Study</a></li><li><a href="#tabset-3-3">Badge</a></li></ul>
<div class="tab-content">
<div id="tabset-3-1">
<blockquote>
<p>Baker, R. S., Berning, A. W., Gowda, S. M., Zhang, S., &amp; Hawn, A. (2020). Predicting K-12 dropout. Journal of Education for Students Placed at Risk (JESPAR), 25(1), 28-54.</p>
</blockquote>
<blockquote>
<p>Baker, R. S., Bosch, N., Hutt, S., Zambrano, A. F., &amp; Bowers, A. J. (2024). On fixing the right problems in predictive analytics: AUC is not the problem. arXiv preprint. https://arxiv.org/pdf/2404.06989</p>
</blockquote>
<blockquote>
<p>Maestrales, S., Zhai, X., Touitou, I., Baker, Q., Schneider, B., &amp; Krajcik, J. (2021). Using machine learning to score multi-dimensional assessments of chemistry and physics. Journal of Science Education and Technology, 30(2), 239-254.</p>
</blockquote>
</div>
<div id="tabset-3-2">
<ul>
<li>Adding another data source from the <a href="https://analyse.kmi.open.ac.uk/open_dataset">OULAD</a>, assessments data</li>
<li>Interpreting each of the metrics in greater detail</li>
<li>Using <code>metric_set</code></li>
</ul>
</div>
<div id="tabset-3-3">
<ul>
<li>Stepping back and interpreting the model as a whole, focusing on moving beyond accuracy!</li>
<li>Finding another relevant study</li>
</ul>
</div>
</div>
</div>
</section>

<section id="fin" class="title-slide slide level1 center">
<h1><em>fin</em></h1>
<p><a href="https://docs.google.com/document/d/14Jc-KG3m5k1BvyKWqw7KmDD21IugU5nV5edfJkZyspY/edit">General troubleshooting tips for R and RStudio</a></p>
<a href="https://www.go.ncsu.edu/laser-institute">
</a></section><a href="https://www.go.ncsu.edu/laser-institute">
    </a></div><a href="https://www.go.ncsu.edu/laser-institute">
  </a><div class="quarto-auto-generated-content" style="display: none;">
<p><img src="img/LASERLogoB.png" class="slide-logo"></p>
<div class="footer footer-default">
<p><a href="https://www.go.ncsu.edu/laser-institute">go.ncsu.edu/laser-institute</a></p><a href="https://www.go.ncsu.edu/laser-institute">
</a></div><a href="https://www.go.ncsu.edu/laser-institute">
</a></div></div><a href="https://www.go.ncsu.edu/laser-institute">

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="sml-3-conceptual-overview_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="sml-3-conceptual-overview_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="sml-3-conceptual-overview_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="sml-3-conceptual-overview_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="sml-3-conceptual-overview_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="sml-3-conceptual-overview_files/libs/revealjs/plugin/reveal-chalkboard/plugin.js"></script>
  <script src="sml-3-conceptual-overview_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="sml-3-conceptual-overview_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="sml-3-conceptual-overview_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="sml-3-conceptual-overview_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="sml-3-conceptual-overview_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': true,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'jumpToSlide': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleScrollView(event)\"><kbd>r</kbd> Scroll View Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleChalkboard(event)\"><kbd>b</kbd> Toggle Chalkboard</a></li>\n<li class=\"slide-tool-item\" data-item=\"6\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleNotesCanvas(event)\"><kbd>c</kbd> Toggle Notes Canvas</a></li>\n<li class=\"slide-tool-item\" data-item=\"7\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.downloadDrawings(event)\"><kbd>d</kbd> Download Drawings</a></li>\n<li class=\"slide-tool-item\" data-item=\"8\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'chalkboard': {"buttons":false},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1920,

        height: 1080,

        // Factor of the display size that should remain empty around the content
        margin: 5.0e-2,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, RevealChalkboard, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const onCopySuccess = function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      }
      const getTextToCopy = function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
        text: getTextToCopy
      });
      clipboard.on('success', onCopySuccess);
      if (window.document.getElementById('quarto-embedded-source-code-modal')) {
        const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
          text: getTextToCopy,
          container: window.document.getElementById('quarto-embedded-source-code-modal')
        });
        clipboardModal.on('success', onCopySuccess);
      }
        var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
        var mailtoRegex = new RegExp(/^mailto:/);
          var filterRegex = new RegExp('/' + window.location.host + '/');
        var isInternal = (href) => {
            return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
        }
        // Inspect non-navigation links and adorn them if external
     	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
        for (var i=0; i<links.length; i++) {
          const link = links[i];
          if (!isInternal(link.href)) {
            // undo the damage that might have been done by quarto-nav.js in the case of
            // links that we want to consider external
            if (link.dataset.originalHref !== undefined) {
              link.href = link.dataset.originalHref;
            }
          }
        }
      function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
        const config = {
          allowHTML: true,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start',
        };
        if (contentFn) {
          config.content = contentFn;
        }
        if (onTriggerFn) {
          config.onTrigger = onTriggerFn;
        }
        if (onUntriggerFn) {
          config.onUntrigger = onUntriggerFn;
        }
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note) {
            return note.innerHTML;
          } else {
            return "";
          }
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</a></body></html>